"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const finder_1 = require("./finder");
/**
 * Finds the first instance of an executable in the system path.
 * Rejects with a `FinderError` if the command was not found.
 * @param command The command to be resolved.
 * @param options The options to be passed to the finder.
 * @return A string, or an array of strings, specifying the path(s) of the found executable(s).
 */
async function which(command, options = {}) {
    const { all = false, extensions = '', onError = null, path = '', pathSeparator = '' } = options;
    const finder = new finder_1.Finder({ extensions, path, pathSeparator });
    const executables = await finder.find(command, all);
    if (!executables.length) {
        if (onError)
            return onError(command);
        throw new finder_1.FinderError(command, finder, `Command "${command}" not found`);
    }
    return all ? executables : executables[0];
}
exports.which = which;
//# sourceMappingURL=which.js.map